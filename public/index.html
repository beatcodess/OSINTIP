<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>RECON</title>
<style>
body {
  margin: 0;
  font-family: monospace;
  background: radial-gradient(#001, #000);
  color: #00ff9c;
}
header {
  position: fixed;
  top: 15px;
  right: 20px;
  cursor: pointer;
  font-size: 18px;
  text-shadow: 0 0 10px #00ff9c;
}
.container {
  max-width: 600px;
  margin: 90px auto;
  padding: 20px;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  box-shadow: 0 0 20px #00ff9c;
}
input, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  background: black;
  color: #00ff9c;
  border: 1px solid #00ff9c;
}
pre {
  white-space: pre-wrap;
  margin-top: 15px;
}
</style>
</head>

<body>

<header onclick="window.open('https://github.com/beatcodess','_blank')">
<span id="name"></span> âœ”
</header>

<div class="container">
<h2>RECON</h2>
<input id="target" placeholder="IP or Hostname">
<button onclick="run()">Run Recon</button>
<button onclick="exportData()">Export JSON</button>
<pre id="out"></pre>
</div>

<audio id="bgm" loop></audio>

<script>
const nameText="beatcodes";
let idx=0;
setInterval(()=>{
  idx=(idx+1)%(nameText.length+1);
  document.getElementById("name").textContent=nameText.slice(0,idx);
},200);

const bgm=document.getElementById("bgm");
bgm.src="https://files.catbox.moe/q8n7n4.mp3";
document.addEventListener("click",()=>bgm.play(),{once:true});

let last=null;

async function run(){
  const t=document.getElementById("target").value;
  const r=await fetch("/api/recon",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({target:t})
  });
  last=await r.json();
  document.getElementById("out").textContent=
    JSON.stringify(last,null,2);
}

function exportData(){
  if(!last)return;
  const a=document.createElement("a");
  a.href=URL.createObjectURL(
    new Blob([JSON.stringify(last,null,2)],{type:"application/json"})
  );
  a.download="recon-report.json";
  a.click();
}
</script>

</body>
</html>
