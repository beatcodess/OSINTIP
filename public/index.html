<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>RECON</title>
<style>
body{margin:0;font-family:monospace;background:#000;color:#00ff9c}
.dark{background:#000;color:#00ff9c}
.light{background:#f0f0f0;color:#000}
header{position:absolute;top:15px;right:20px;cursor:pointer}
.container{max-width:520px;margin:80px auto;padding:20px;background:#050;border-radius:12px}
button,input{width:100%;margin-top:10px;padding:10px}
pre{white-space:pre-wrap}
</style>
</head>
<body class="dark">

<header onclick="window.open('https://github.com/beatcodess','_blank')">
<span id="name"></span> âœ”
</header>

<div class="container">
<h2>RECON</h2>
<input id="target" placeholder="IP or Hostname">
<button onclick="run()">Run Recon</button>
<button onclick="toggle()">Toggle Theme</button>
<button onclick="exportData()">Export Report</button>
<pre id="out"></pre>
</div>

<audio id="bgm" loop></audio>

<script>
const name="beatcodes";
let i=0,d=1;
setInterval(()=>{
  document.getElementById("name").textContent=name.slice(0,i);
  if(i===name.length)d=-1;if(i===0)d=1;i+=d;
},150);

const bgm=document.getElementById("bgm");
bgm.src="https://files.catbox.moe/q8n7n4.mp3";
document.addEventListener("click",()=>bgm.play(),{once:true});

let last=null;

async function run(){
  const t=document.getElementById("target").value;
  const r=await fetch("/api/recon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:t})});
  last=await r.json();
  document.getElementById("out").textContent=JSON.stringify(last,null,2);
}

function exportData(){
  if(!last)return;
  const a=document.createElement("a");
  a.href=URL.createObjectURL(new Blob([JSON.stringify(last,null,2)],{type:"application/json"}));
  a.download="recon-report.json";
  a.click();
}

function toggle(){
  document.body.className=document.body.className==="dark"?"light":"dark";
}
</script>

</body>
</html>
